<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Raphael JS</title>
	</head>
	<body style="background-color:#000">

		<canvas id="paper" style="background-color:#000;width:650px;float:left;height:400px;padding:0px;margin:20px"></canvas>
		<br><a href="javascript:lights_on=!lights_on;document.getElementById('lights').innerHTML=(lights_on? 'ON' : 'OFF');void(0)">lights : <span id="lights">OFF</span></a>
		<br><a href="javascript:draw_sight=!draw_sight;document.getElementById('sight').innerHTML=(draw_sight? 'ON' : 'OFF');void(0)">Sight : <span id="sight">OFF</span></a>
		<br><a href="javascript:relative=!relative;document.getElementById('relative').innerHTML=(relative? 'ON' : 'OFF');void(0)">Relative : <span id="relative">OFF</span></a>
		<br><a href="javascript:relative_angle=!relative_angle;document.getElementById('relative_angle').innerHTML=(relative_angle? 'ON' : 'OFF');void(0)">Relative angle: <span id="relative_angle">OFF</span></a>
		<br><a href="javascript:player.say(paper, 'Hello...?\nY a quelqu\'un ?\nHÃ©ho !');void(0)">Say "hello".</span></a>
		
		<div id="dbg-info" style="width:200px;float:right"></div>
		
		<script src="lib/jquery-2.1.4.min.js" ></script>
		<script src="utils.js" ></script>
		<script src="Interval.js" ></script>
		<script src="angle-utils.js" ></script>
		<script src="Rect.js" ></script>
		<script src="canvas-utils.js" ></script>
		<script src="Shadow.js" ></script>
		<script src="Bubble.js" ></script>
		<script src="Bob.js" ></script>
		<script src="Segment.js" ></script>
		<script src="Door.js" ></script>
		<script src="Glass.js" ></script>
		<script src="Light.js" ></script>
		<script src="Path.js" ></script>
		<script src="Stair.js" ></script>
		<script src="keyboard-control.js" ></script>
		<script src="renderScene.js" ></script>
		<script>
		
var paper_width = 650;
var paper_height = 400;
			
			
var paper = document.getElementById("paper");
paper.width = paper_width;			
paper.height = paper_height;			
					
			var stairDown = new Stair(100,50,30,60, 10, Math.PI/2, false);
			var stairUp = new Stair(300,50,30,60, 10, Math.PI/4, true);
			
			var stairs = [];
			stairs.push(stairDown);
			stairs.push(stairUp);
			
			var player = new Bob();
			player.x=10;
			player.y=10;
			
			
			var original_width = player.width;
			
			function draw(){
				
				
				
				
				
				var ctx = paper.getContext("2d");
				ctx.fillStyle="#000";
				ctx.fillRect(0,0, paper.width, paper.height);				

				
				
				
				
				
				
				
				
				
				for(var i=0;i<stairs.length;i++){
					stairs[i].check(player);
					stairs[i].draw(paper);
				}
				player.draw(paper);
				window.requestAnimationFrame(draw);
			}
			window.requestAnimationFrame(draw);
			keyboardControl(player);

		</script>
	
	</body>
</html>
