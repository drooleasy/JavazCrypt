<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Raphael JS</title>
	</head>
	<body style="background-color:#000">

		<canvas id="paper" style="background-color:#000;width:650px;float:left;height:400px;padding:0px;margin:20px"></canvas>
		<br><a href="javascript:pointCloud = randomPointCloud(300-130,200-130, 260, 260, num_points);pointCloud.sort();void(0)">random Points AABB</a>
		<br><a href="javascript:pointCloud = randomPointCloudFromCenter(300,200, 70, 130, num_points);pointCloud.sort();void(0)">random Points from Center</a>
		<br><a href="javascript:pointCloud = randomPointCloudFromCircle(300,200, 100, 30, num_points);pointCloud.sort();void(0)">random Points from Circle</a>
		
		<div id="dbg-info" style="width:200px;float:right"></div>
		
		<script src="lib/jquery-2.1.4.min.js" ></script>
		<script src="./js/utils.js" ></script>
		<script src="./js/Interval.js" ></script>
		<script src="./js/angle-utils.js" ></script>
		<script src="./js/Rect.js" ></script>
		<script src="./js/canvas-utils.js" ></script>
		<script src="./js/Shadow.js" ></script>
		<script src="./js/Bubble.js" ></script>
		<script src="./js/Bob.js" ></script>
		<script src="./js/Segment.js" ></script>
		<script src="./js/Door.js" ></script>
		<script src="./js/Glass.js" ></script>
		<script src="./js/Light.js" ></script>
		<script src="./js/Path.js" ></script>
		<script src="./js/Stair.js" ></script>
		<script src="./js/keyboard-control.js" ></script>
		<script src="./js/renderScene.js" ></script>
		<script src="./js/PointCloud.js" ></script>
		<script src="./js/random.js" ></script>
		<script src="./js/Slope.js" ></script>
		<script src="./js/Platform.js" ></script>
		<script>
					
			var paper_width = 650;
			var paper_height = 400;
						
						
			var paper = document.getElementById("paper");
			paper.width = paper_width;			
			paper.height = paper_height;			
					


			var FILL = "#000";

			var num_points = 12;
			var pointCloud = null;
			pointCloud = randomPointCloudFromCircle(300,200, 100, 30, num_points);
			pointCloud.sort();
			
			
			
			function draw(){
			
//				pointCloud = randomPointCloud(num_points);
//				pointCloud.sort();
			
				
				var ctx = paper.getContext("2d");
				ctx.fillStyle=FILL;
				ctx.fillRect(0,0, paper.width, paper.height);				

				ctx.fillStyle = "#fff";				
				ctx.strokeStyle = "#FFF";
				ctx.fillStyle = "rgba(255,255,255,0.33)"

				pointCloud.draw(paper);
				pointCloud.plot(paper);
				pointCloud.plotInnerOuter(paper);
				pointCloud.strokeAABB(paper);
				
				
				window.requestAnimationFrame(draw);
				
			
				
			}
			window.requestAnimationFrame(draw);
			//keyboardControl(player);



			$(paper).on("click", function(evt){
				
				var mx = evt.pageX - $(paper).offset().left;
				var my = evt.pageY - $(paper).offset().top;
				
				
				if(pointCloud.inside(mx, my)){ 
						FILL = "#333"
				}else{
					FILL = "#000"
				}
			});


			test();

		</script>
	
	</body>
</html>
